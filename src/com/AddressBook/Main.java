 /*
  * Title:          com.AddressBook
  * Authors:        Miles Maloney, Caden Keese
  * Last Modified:  5/1/20
  * Description:
  * */
 package com.AddressBook;

 import javax.crypto.Cipher;
 import java.io.IOException;
 import java.nio.charset.StandardCharsets;
 import java.nio.file.Files;
 import java.nio.file.Paths;
 import java.security.GeneralSecurityException;
 import java.security.KeyPair;
 import java.security.PrivateKey;
 import java.util.Arrays;
 import java.util.Base64;

 import static com.AddressBook.Encryption.*;

 public class Main {
     public static void main(String[] args) throws GeneralSecurityException, IOException {
//         KeyPair kp = generatePublicPrivateKeys();
//         PrivateKey priv = kp.getPrivate();
//         String privb64 = keyToB64(priv);
//         String fakePass = "password43";
//         String fakePass256 = hashSHA256(fakePass);
//         byte[] encryptedB = encrypt(privb64, fakePass256);
//         String encrypted = bytesToString(encryptedB);
//         Files.writeString(Paths.get("test123"), encrypted);
//         String fromFile = Files.readString(Paths.get("test123"));
//         byte[] encryptedFromFile = stringToBytes(fromFile);
//         String decryptedB64 = decrypt(encryptedFromFile, fakePass256);
//         PrivateKey privDecrypted = privateKeyFromB64(decryptedB64);
//         System.out.println("priv = " + priv);
//         System.out.println("privDecrypted = " + privDecrypted);
//         System.out.println(priv.toString().equals(privDecrypted.toString()));

//         String signable = "asdkc43asfdknjha;adasdfvjknvanc454aasdaasd"+ ";";
//         byte[] signableBytes = signable.getBytes(StandardCharsets.UTF_8);
//         System.out.println(signableBytes.length);
//         String s = encryptWithRSA(kp.getPrivate(),signable);
//         String s2 = decryptWithRSA(kp.getPublic(), s);
//         System.out.println(s2.equals(signable));

         String s = "RqkA1gKowsEgdhEaDaLkWjnDgdch1dMz96eD1QEkykQwibZ9fPY4YaGIz243dkw/o2CeWtEGq/BXxWhe4cARCnITDiU29bfbyjz4YAKeMEmW7xyXvceRXTVaz0kL4hLbdIkLnittlvUvaA+Veh8Bg/ZlpmVETPsY72KN5+h/NJnWSIwYLhMaxn8327PLoC1to9OuL08UYhnvNd/JeWdpTcg1SR1fgyeinjLtymAMxLGMvnj7n7fCIKdEpR+26USeTC+H5J5PQ+8tTO6mMi9tIGaMncCnNLHkEccpmPFIKkH5QryXz7idfAbR/wegME1JWiY82YRkyrOs0j97UsVqKw==;gE3S2YtwApRzy2/oZxttadIvLJuzPKg1fHKx7kL8gFbjZa8ElHYqscH05ucZg9oA/X/2S3hksVUBLtcSynUNj1JUjapReBFmwAILoKtvsb9hy/Uhg3lCzjwg8A9BqOs4YlMZnlZ0H7BwbHbg4dNALJrLzwLxlDbfTDmnI0t0XjEmTNk9/AFuK2vOJ1xKzIK+SXSHPdqlxINV5TjPGCVSxDr3Fg0U9iTse88IQP8t0pkKiNI/pPwYuLufJ7qPha0BHtOZ/Un2O+x4Tf3t78+jOlzLIEP3AdT0STVRoCiz+49BS9k3jIjcXUuySa82am3WdTYdKeW3/RkzjtXB+wnpig==";

         String privb64= "17810536ADADC82EF743BAADA17C0C0DCB1060A2C83D2B3535A03769F61DE3C84CDABE1656D95877E92373A197DDA89D451477EDF05A65AD892E90C247BD99A71DC355C345EE0F0716E9005DBD7BC8B9B19E5BB68E33D1AF5DAA30840FEED5A03ACE3E2CA2BB089A69C55760CC66F17CF8DE36AB3600EA0ED3762315255A1A675FCBEC496937BA65917CBC1DBB2844BE0B9A48AF494EA1CC47F916FAAC23440177B20173DBBD7ED745ECA117A22A0BB4751D5684278EB4A53B2E40123D0F9D0E0C113DD52F59F06D9F23049AEC538C5B0375A68BBD8EF2F72B5E264875DD087554AC36AA38E2148D7B480B0E30CE68ADF9948C0FEFC4C07F4BE68D7F60E70A567F918E4F144668E60FF391F31681BF960A7E0E083E05E696B8CE129583A69235D26D843323FD670887A1933D84C0F8EB104D41B8941B5C099184D3B9EE57E3806B568B357B7CF93E833946D1293BFB28D2B55195C73DD1D2711DA16CDAC7EE98F579543A002EBC3B651E8BC90102098D887E6031516C9A106B7FB0826732E223A2343EF2695FDB1D0863DB1B90360F2891DC3B71B6DB74644620DE74FC10CDF9FEE16D44510BD19E26FEB1B16CEA94B9D6E0955A4E72AB21468D612FB7C783CDEDA141BDCD69BEFF46646A281274365437753D834BE95E2066B605C6DA992DB1E8A92152BCDF4164007B3F82840B564A40136924A7FE6FF6C68F42C11968F6FB732E042B5E72306317F43CEA832F2EDC7F5A6BC69567CB0C1DA694C5A40E6083F2E20FD129571634072963A0291C3142D142C61152FDD4ADCB62A670260543A910AAADA1791D7A885E0794ECE5349099CF6BB7BA21FD4C884BA9F1E0F1D4210455B19B08BF43ED4D3C94D453A54F7C26839E4BCD990E74A361F6F05A577C788F8C25333FE4ADA4607FA7B91D87C56DAA503403063A12331E58F9B899527C508C9CF5ED1D0B6D289977D9EC407C209ED726D50058FC1408646403629B02DE83257EF441C0CCE662FFFBCDE0401541C7360BFFB6D13CB14F1085DE661D9888A014A407A93FEDAD086D4F7E6E1DBEC5BBE741F25DAF9672CE508B192578485C6A87331F8FC3243C48EE75A669C58E791AA0C0392F917F3DEDB6172705A37C7B5052659781E2FF7A5F700A92CC7592FD33F8162C943ADC84A24CDB2AA772FC247BF32B8643D4555645A1E1A7F5C6783E4E9A498D11021D61646FF59073BA97D2EE97C287954413C578A3B9235970EBDA381D1D1B37D3E43229A8C720AD17F81984FAC17F449920235A82EC8E2B1D5CB6BADEDE24CDFD93FBA457E9F21A42FEADE9B7F247F99FE71604C3E306DF75877AEF19B20B68C9EB16DF7380002062717971506C39553959E011A36EA094A7916800EB39AE822732DD41398FA62D6A851569C40533E59A53833E90FC51DB704AE4055B781A455070E3E2E8BFC50F2492A3D94EDCFDA62160494C1D13BE137BD20BE33518F1A3D0FF86E59D50935D1D4F68526080C1EE5DC1DEF4D6FD67E1C960C5D69CD7F8280F7F400D7D3076F196F8C72429DFEC8AAEB5B6A3C2A582902702ADCD4E3372D48A16C13AAA10EFE51DDC65CC1332641B07DE42818212ABC5748575BBB3E72ABAF36071853E4DC1E1835EF163C41F7F0815BD233F200BD0523537AC50B86FDB18D14B45117B81049E6109006D7272528545542466CB08810FBE57E57F0907E074EEE8AD8CC14031C3A244A6667B791A5DE14E4A92C7AD8A4FFB8A1F163A5A7F51C99DA7111C913D337331DB99A5F7ACA0C50D5377DF845CE3A690ACBB26656FAB72A7BB0DF8968B441CD535E47F3A010974FE045375A8108AFE586970BF74E7F37984AE10FEB8A180836196E29DA63895D7B05A3E710D92BD2D1360F9FFCDF0B1AFE9583A11F24B15117E4E338DC8A5D27BCDD92D50EE78C3CBFF4693C5FE82F20685687CC19351D9A181DBBAD33495D5292ABF6502142904062F211863F84F3F33C7F023ADC5C486C1C3E368FAEC50BD96D1684707D1336AABB56AE303EC982DEDC7994BEBE4A8F01D5417E09A7BD65757C7871E8669769FB38A402F653ECC18F239610C5E2CB0C2DF042205DEBB14B6E24C944E2CBD6312651F3CD453AAD245A343869EE98DD8644D6241EE8A9D017A364CE34FCE414A7EA37E2D20F6E8D54AAF7707EA5907FE60116A2245ED9FCE6C057F58412C3B9B0F7E98E7C8C2362222FA9732DEA1C2DA264CF4C09C6BF703F184F92163618B14AEE60F7F8C5773308162DD829910A89836F23A5F28E27F3E0562B538F44C74F9B53522B838BA3901F999026FA05BA14E3EC2A9ED6CAD";
         PrivateKey pk = privateKeyFromB64(privb64);
         decryptWithRSA(pk, s);




     }
 }
